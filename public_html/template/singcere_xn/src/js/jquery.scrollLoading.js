(function(a){a.fn.scrollLoading=function(b){var d={attr:"data-url",container:a(window),callback:a.noop};var e=a.extend({},d,b||{});e.cache=[];a(this).each(function(){var h=this.nodeName.toLowerCase(),g=a(this).attr(e.attr);var i={obj:a(this),tag:h,url:g};e.cache.push(i)});var c=function(g){if(a.isFunction(e.callback)){e.callback.call(g.get(0))}};var f=function(){var g=e.container.height();if(a(window).get(0)===window){contop=a(window).scrollTop()}else{contop=e.container.offset().top}a.each(e.cache,function(m,n){var p=n.obj,j=n.tag,k=n.url,l,h;if(p){l=p.offset().top-contop,l+p.height();if((l>=0&&l<g)||(h>0&&h<=g)){if(k){if(j==="img"){c(p.attr("src",k))}else{p.load(k,{},function(){c(p)})}}else{c(p)}n.obj=null}}})};f();e.container.bind("scroll",f)}})(jQuery);

